<div class="step-component-container">
  <h1>Step 1: Choose your Model and color</h1>
  <div class="form" [formGroup]="carFormGroup" *ngIf="carModels$">
    <div class="form-input">
      <label for="model">Model</label>
      <select
        name="modelSelect"
        id="modelSelect"
        [formControl]="carFormGroup.controls.model"
        (change)="saveCarData()"
      >
        <option [ngValue]="null" [disabled]="true" [selected]="true">
          Choose..
        </option>
        <ng-container *ngFor="let item of carModels$ | async; index as i">
          <option *ngIf="item.code.length > 0" [value]="item.code">
            {{ item.description }}
          </option>
        </ng-container>
      </select>
    </div>
    <div
      *ngIf="carFormGroup.controls.model.value || !selectedCar().color || selectedModelColors"
      class="form-input"
    >
      <label for="color">Color</label>
      <select
        name="colorSelect"
        id="colorSelect"
        [formControl]="carFormGroup.controls.color"
        (change)="saveCarData()"
        [compareWith]="compareFn"
        #selected
      >
        <ng-container *ngFor="let color of selectedModelColors; index as i">
          <option [ngValue]="color">{{color.description}}</option>
        </ng-container>
      </select>
    </div>
  </div>
</div>
